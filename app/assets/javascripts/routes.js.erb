var require_authentication = { 
    authenticated: function(authFilter) {
        return authFilter();
    } 
}

angular.module('MusicQuiz').config(function($routeProvider) {
    $routeProvider.
        when("/", {
            controller: "ListQuizCtrl", 
            templateUrl: '/templates/play_index.html'
        }).
        when("/play/start/:quiz_id", {
            controller: "QuizCtrl",
            templateUrl: '/templates/quiz_start.html'
        }).
        when("/play/:id", {
            controller: "QuizCtrl",
            templateUrl: '/templates/quiz.html'
        }).
        when("/play/:id/finish", {
            controller: "QuizCtrl",
            templateUrl: '/templates/quiz_finish.html'
        }).
        when("/crud", {
            controller: "ListQuizCtrl",
            templateUrl:'/templates/crud.html',
            resolve: require_authentication
        }).
        when("/crud/new_quiz", {
            controller: "EditQuizCtrl",
            templateUrl:'/templates/edit_quiz.html',
            resolve: require_authentication
        }).
        when("/crud/:id", {
            controller: "EditQuizCtrl",
            templateUrl:'/templates/edit_quiz.html',
            resolve: require_authentication
        }).
        when("/crud/:quiz_id/new_question", {
            controller: "EditQuestionCtrl",
            templateUrl:'/templates/edit_question.html',
            resolve: require_authentication
        }).
        when("/crud/:quiz_id/question/:id", {
            controller: "EditQuestionCtrl",
            templateUrl:'/templates/edit_question.html',
            resolve: require_authentication
        }).
        otherwise({
            redirectTo:'/'
        });
});